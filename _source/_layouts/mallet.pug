include _main
mixin mallet_theme_switch(title='Change Theme (Alt+T)')
  ._theme_switch._needjs: a(href='#' onclick!=onclick(js.themeChange) title=title)._bt.-h: block theme_switch
    +isvg(svgi.compare)
block vars
  -
    layout = 'core'
    htmlClass = ['_core_layout']
    bodyClass = []
    mainClass = []
block update_vars
block html
  doctype html
  html(lang=lang||'en-US' class=htmlClass.join(' '))
    |<!-- page.path   : !{path} -->
    |<!-- page.layout : pugs/!{layout} -->
    head
      meta(charset=charset||'utf-8')/
      |<!-- Begin Jekyll SEO tag v2.8.0 -->
      title !{title||'(untitled)'}!{site_title?' | '+site_title:''}
      |<!-- End Jekyll SEO tag -->
      meta(name="viewport" content="width=device-width,initial-scale=1")/
      meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=1")/
      meta#_color_scheme(name="color-scheme" content=color_scheme||'')/
      meta#_theme_color(name="theme-color" content=theme_color||'')/
      block style
        link#_style(rel="stylesheet" href!=`${site_url}/assets/mallet/css/style.css?v=${version}`)/
      block custom_head
        +custom_head
      |<!--[if lt IE 9]><script src="https://unpkg.com/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
    body
      main#app._app.__fadein
        #layout.container-lg.px-3.markdown-body
          #header: #_header-bar: ._flex: ._flex-main
            block header
              //- p: code // header
              h1#_title._logo: a(href=home_url) #{site_title}
          nav._nav
            block nav
              p: code // nav
          article._article
            block content
              h1 !{title}
              p: code // content for : !{title}
          footer#footer
            block footer
              hr/
              p: code // footer
              hr/
              p.text-right.text-grey: small: +edit_link(path)
        //- .container-lg
        +mallet_theme_switch
      block custom_body
        +custom_body